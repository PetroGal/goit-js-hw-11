{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryItemMarkup = images => {\n  return images\n    .map(\n      ({\n        id,\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n   <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n    id=${id}\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n   \n    </a>\n    <div class=\"image-properties\">\n      <div class=\"property-item\">\n        <h3 class=\"image-property-title\">Likes</h3>\n        <p class=\"image-property-data\">${likes}</p>\n      </div>\n      <div class=\"property-item\">\n        <h3 class=\"image-property-title\">Views</h3>\n        <p class=\"image-property-data\">${views}</p>\n      </div>\n      <div class=\"property-item\">\n        <h3 class=\"image-property-title\">Comments</h3>\n        <p class=\"image-property-data\">${comments}</p>\n      </div>\n      <div class=\"property-item\">\n        <h3 class=\"image-property-title\">Downloads</h3>\n        <p class=\"image-property-data\">${downloads}</p>\n      </div>\n    </div>\n </li>`\n    )\n    .join('');\n};\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43776865-31502832095c6a436255fe0a5';\n\nexport const fetchPhotosByQuery = userQuery => {\n  const searchParams = new URLSearchParams({\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${userQuery}&${searchParams}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { createGalleryItemMarkup } from './js/render-functions.js';\nimport { fetchPhotosByQuery } from './js/pixabay-api.js';\n\nconst searchFormEl = document.querySelector('.search-form');\nconst loaderEl = document.querySelector('.loader');\nlet galleryEl = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.target.elements.search.value.trim();\n\n  if (searchQuery === '') {\n    galleryEl.innerHTML = '';\n    event.target.reset();\n    iziToast.show({\n      message: 'Input field can not be empty',\n      position: 'topRight',\n      timeout: 2000,\n      color: 'red',\n    });\n\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  fetchPhotosByQuery(searchQuery)\n    .then(imagesData => {\n      if (imagesData.total === 0) {\n        iziToast.show({\n          message: 'Sorry, there are no images for this query',\n          position: 'topRight',\n          timeout: 2000,\n          color: 'red',\n        });\n      }\n\n      galleryEl.innerHTML = createGalleryItemMarkup(\n        imagesData.hits.slice(0, 9)\n      );\n\n      lightbox.refresh();\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nsearchFormEl.addEventListener('submit', handleSubmit);\n"],"names":["createGalleryItemMarkup","images","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads","BASE_URL","API_KEY","fetchPhotosByQuery","userQuery","searchParams","response","searchFormEl","loaderEl","galleryEl","lightbox","SimpleLightbox","handleSubmit","event","searchQuery","iziToast","imagesData","error"],"mappings":"6vBAAO,MAAMA,EAA0BC,GAC9BA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,mCACuBL,CAAa;AAAA;AAAA,SAEvCF,CAAE;AAAA;AAAA,aAEEC,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAOwBC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,OAI7C,EACA,KAAK,EAAE,EC1CNC,EAAW,2BACXC,EAAU,qCAEHC,EAAqBC,GAAa,CAC7C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MACL,GAAGJ,CAAQ,QAAQC,CAAO,MAAME,CAAS,IAAIC,CAAY,EAC7D,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAEZ,OAAOA,EAAS,MACpB,CAAG,CACH,ECXMC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAW,SAAS,cAAc,SAAS,EACjD,IAAIC,EAAY,SAAS,cAAc,UAAU,EAEjD,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,OAAO,MAAM,OAEvD,GAAIC,IAAgB,GAAI,CACtBL,EAAU,UAAY,GACtBI,EAAM,OAAO,QACbE,EAAS,KAAK,CACZ,QAAS,+BACT,SAAU,WACV,QAAS,IACT,MAAO,KACb,CAAK,EAED,MACD,CAEDN,EAAU,UAAY,GACtBD,EAAS,UAAU,OAAO,WAAW,EAErCL,EAAmBW,CAAW,EAC3B,KAAKE,GAAc,CACdA,EAAW,QAAU,GACvBD,EAAS,KAAK,CACZ,QAAS,4CACT,SAAU,WACV,QAAS,IACT,MAAO,KACjB,CAAS,EAGHN,EAAU,UAAYlB,EACpByB,EAAW,KAAK,MAAM,EAAG,CAAC,CAClC,EAEMN,EAAS,QAAO,CACtB,CAAK,EACA,MAAM,SAAUO,EAAO,CACtB,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAM,OAAO,QACbL,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAD,EAAa,iBAAiB,SAAUK,CAAY"}